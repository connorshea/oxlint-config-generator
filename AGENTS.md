# AGENTS.md

This file provides context for AI coding assistants working on this codebase.

## Project Overview

The **Oxlint Config Generator** is a Vue 3 + Vite web application that provides an interactive UI for generating `.oxlintrc.json` configuration files for the [Oxlint](https://oxc.rs/docs/guide/usage/linter.html) linter. Users can select from available Oxlint rules and plugins, customize rule settings, and instantly see the generated JSON configuration.

## Technology Stack

- **Vue 3** (Composition API) with TypeScript
- **Vite** for build tooling
- **Oxlint** and **Oxfmt** for linting and formatting
- **pnpm** as package manager
- **Husky** + **lint-staged** for pre-commit hooks (runs oxfmt on staged files)

## Project Structure

```
src/
├── App.vue                    # Main application shell and state
├── main.ts                    # Vue app entry point
├── style.css                  # Global theme and CSS variables
├── shims-vue.d.ts             # Vue SFC type shims
├── types/index.d.ts           # TypeScript types (PluginName, JSPluginName, etc.)
├── utils/config-generator.ts  # Core config generation logic
├── shared/
│   └── js-plugin-configs.ts   # Single source of truth for JS plugin configurations
└── components/
    ├── PluginSelector.vue     # Plugin toggle buttons
    ├── RuleSelector.vue       # Rule list with search/filter
    └── ConfigDisplay.vue      # JSON output with syntax highlighting

scripts/                       # Data generation scripts (run with tsx)
├── generate-rules.ts          # Fetch rules from oxc/website repo
├── generate-plugins.ts        # Extract plugin metadata from ESLint plugins
├── generate-js-plugins.ts     # Extract JS plugin metadata
├── generate-rule-descriptions.ts      # Extract descriptions from oxc docs
└── generate-js-plugin-descriptions.ts # Extract JS plugin descriptions

data/                          # Generated data (don't edit manually)
├── rules.json                 # All available Oxlint rules
├── rule-descriptions.json     # Rule descriptions
├── plugins/                   # Per-plugin rule data
├── js-plugins/                # Per-JS-plugin rule data
└── js-plugin-descriptions.json
```

## Key Scripts

```bash
pnpm dev                    # Start dev server
pnpm build                  # Build for production (runs vue-tsc then vite build)
pnpm typecheck              # Type check with vue-tsc
pnpm lint                   # Run oxlint
pnpm fmt                    # Format with oxfmt
pnpm fmt:check              # Check formatting without writing
pnpm generate:all           # Regenerate all data files
```

## Important Patterns

### Data Files Are Generated

Files in `data/` are generated by scripts. To update rule/plugin data:

1. Modify the relevant script in `scripts/`
2. Run `pnpm generate:all`
3. Commit the updated data files

### Theme System

- CSS variables defined in `src/style.css`
- Dark mode is default; light mode via `[data-theme="light"]` or `prefers-color-scheme`
- Theme stored in localStorage

### Rule Types

```typescript
// Core rule from oxlint
interface OxlintRule {
  scope: ScopeName; // e.g., "react", "eslint", "jsx_a11y"
  value: string; // rule name
  category: string; // correctness, suspicious, pedantic, style, restriction, perf
  type_aware: boolean; // requires TypeScript
  fix: string; // "none", "safe", "unsafe"
  default: boolean; // recommended in oxlint
  docs_url: string;
}

// Override value
type RuleOverride = "error" | "warn" | "off" | null;
```

### Supported Plugins

**Native Oxlint plugins** (`PluginName` type in `src/types/index.d.ts`):
eslint, oxc, react, react-perf, jsx-a11y, import, jsdoc, jest, vitest, unicorn, typescript, vue, next, promise, node

**JS (ESLint-compatible) plugins** (`JSPluginName` type in `src/types/index.d.ts`):
playwright, stylistic, storybook, testing-library, cypress, e18e

JS plugin configurations are defined in `src/shared/js-plugin-configs.ts`.

## Common Tasks

### Adding a New Native Plugin

1. Add to `PluginName` and `ScopeName` types in `src/types/index.d.ts`
2. Add to `pluginCategories` in `PluginSelector.vue`
3. Add to display name maps in `RuleSelector.vue`
4. Run `pnpm generate:all`

### Adding a New JS Plugin

1. Add ESLint plugin package to devDependencies
2. Add to `JSPluginName` and `RulePrefix` types in `src/types/index.d.ts`
3. Add config entry to `src/shared/js-plugin-configs.ts`
4. Add to `pluginCategories` in `PluginSelector.vue`
5. Add to display name maps in `RuleSelector.vue`
6. Run `pnpm generate:all`

### Modifying Rule Display

Most rule display logic is in `RuleSelector.vue`:

- `filteredRules` / `jsPluginRules` - rule filtering
- `groupedRules` - rule grouping logic
- Template has two modes: grouped (with details/summary) and full list

## Notes

- Nursery and deprecated rules are excluded from output
- No test files currently exist; use `pnpm typecheck` and manual testing
